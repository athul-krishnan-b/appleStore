<%-include("../user/layouts/user-header.ejs")%>

<form id="myForm" action="/admin/productSubmit" method="post"  enctype="multipart/form-data">

  <div class="whole" style="max-width: 800px; margin: 0 auto;">
    <h1 style="text-align: center;">PRODUCT DETAILS</h1>
    <div class="mb-3">
      <label for="exampleFormControlInput1" class="form-label">Product Name</label>
      <input name="productName" type="text" class="form-control" id="exampleFormControlInput1" placeholder="Product name" />
    </div>

    <div class="mb-3">
      <label for="formFile" class="form-label">Product images</label>
      <input name="productImage" class="form-control" id="imageInput" onchange="displayImages()" type="file" id="formFile" multiple /><br>
      <div id="previewImages" style="display: flex; flex-wrap: wrap;"></div>
    </div>

    <div class="mb-3">
      <label for="exampleFormControlTextarea1" class="form-label">Product Description</label>
      <textarea name="description" class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Product Description"></textarea>
    </div>

    <div class="mb-3">
      <label for="exampleFormControlInput1" class="form-label">Product Price</label>
      <input name="productPrice" type="text" class="form-control" id="exampleFormControlInput1" placeholder="Product Price" />
    </div>

    <div class="mb-3">
      <button type="submit" class="btn btn-primary btn-lg">Add Product</button>
    </div>
  </div>
</form>

  <script>
    function displayImages() {
      var previewDiv = document.getElementById('previewImages');
      previewDiv.innerHTML = ''; // Clear previous previews
  
      var files = document.getElementById('imageInput').files;
  
      for (var i = 0; i < files.length && i < 3; i++) {
        var reader = new FileReader();
        var image = document.createElement('img');
        image.style.maxWidth = '150px';
        image.style.maxHeight = '150px';
        image.style.marginRight = '10px';
        image.style.marginBottom = '10px';
  
        reader.onload = (function (img) {
          return function (e) {
            img.src = e.target.result;
          };
        })(image);
  
        if (files[i]) {
          reader.readAsDataURL(files[i]);
          previewDiv.appendChild(image);
        }
      }
    }
  </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<%-include("../user/layouts/user-footer.ejs")%>